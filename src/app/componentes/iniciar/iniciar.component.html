<div class="card-body px-5 pb-5 pt-0" [ngStyle]="respostaLiberada ? {'min-height': '550px'} : {'height': '550px'}">

  <app-carregar-informacoes [iniciarPesquisa]="iniciarPesquisa"
                            (iniciarPesquisaChange)="atualizarInicializarPesquisa($event)"
                            [itens]="itens">
  </app-carregar-informacoes>

  <div style="height: 90%" *ngIf="iniciarPesquisa">
    <div class="posicionar-palavra" style="height: 100%; width: 100%">

      <span style="font-size: 125px">{{ palavraAtual }}</span>

      <div *ngIf="imageUrl" class="posicionar-imagem" style="height: 550px">
        <img [src]="imageUrl" width="100%" height="100%">
      </div>

      <form [formGroup]="form" (ngSubmit)="salvar()" *ngIf="respostaLiberada">
        <div style="min-width: 750px">
          <table class="table table-product" style="width:100%">
            <thead>
              <tr>
                <th class="text-left px-3">Palavras</th>
                <th class="text-center">Resposta</th>
              </tr>
            </thead>
            <tbody formArrayName="respostas">
              <tr *ngFor="let respostaControl of respostas.controls; let index = index" [formGroupName]="index">
                <td *ngIf="index <= indexAtual">{{ index + 1 }}</td>
                <td *ngIf="index <= indexAtual"
                    style="min-width: 100px">
                  <input class="form-control input-lg"
                         [id]="'resposta-' + index"
                         [readOnly]="index < indexAtual"
                         formControlName="resposta"
                         placeholder="Resposta {{ index + 1}}"
                         type="text">

                  <div *ngIf="respostaControl.get('resposta')?.invalid && respostaControl.get('resposta')?.touched">
                    <small *ngIf="respostaControl.get('resposta')?.hasError('required')" class="text-danger">Resposta obrigat√≥ria.</small>
                  </div>
                </td>

              </tr>
          </table>
        </div>

        <div class="text-center">
          <button *ngIf="indexAtual < itens.length - 1"
                  class="btn btn-primary btn-pill mb-4"
                  (click)="responder()"
                  type="button">
            PROXIMO
          </button>
          <button *ngIf="indexAtual >= itens.length - 1"
                  class="btn btn-primary btn-pill mb-4"
                  type="submit">
            SALVAR
          </button>
        </div>

      </form>

    </div>

  </div>
</div>

<div [ngStyle]="respostaLiberada ? {'display': 'block'} : {'display': 'none'}">
  <div style="margin-top: 200px"></div>
  <div class="teste">
    <div class="simple-keyboard" style="pointer-events: all;"></div>
  </div>
</div>
